<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Dashboard ‚Ä¢ Cubeology Competitions</title>

  <link rel="stylesheet" href="/styles/theme.css">
  <link rel="stylesheet" href="/styles/components.css">
  <link rel="stylesheet" href="/styles/layout.css">
  <link rel="stylesheet" href="/styles/pages.css">

  <link rel="stylesheet" href="./dashboard.css">

  <script src="/js/config.js"></script>
  <script src="/js/nav.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="./dashboard.js" defer></script>
</head>

<body>
  <div class="topbar">
    <div class="container nav">
      <a class="brand brandLink" href="/" aria-label="Go to Home">
        <div class="brandMark">üèÅ</div>
        <div>Cubeology Competitions</div>
      </a>

      <div class="navlinks">
        <a href="/">Home</a>
        <a href="/competitions/">Competitions</a>
        <a href="/rankings/">Rankings</a>
        <a href="/timer/">Timer</a>
        <a class="btn primary" href="https://thecubeology.com" target="_blank" rel="noopener">Store</a>
      </div>

      <button class="burgerBtn" type="button" aria-label="Open menu" data-nav-open>
        <div class="burgerIcon" aria-hidden="true"><span></span><span></span><span></span></div>
      </button>
    </div>
  </div>

  <div class="drawerOverlay" data-nav-overlay></div>
  <aside class="drawer" data-nav-drawer aria-label="Site menu">
    <div class="drawerHeader">
      <div class="drawerBrand">
        <div class="drawerBrandMark">üèÅ</div>
        <div>Menu</div>
      </div>
      <button class="drawerClose" type="button" aria-label="Close menu" data-nav-close>‚úï</button>
    </div>
    <nav class="drawerLinks">
      <a href="/"><span>Home</span><span class="hint">Main hub</span></a>
      <a href="/competitions/"><span>Competitions</span><span class="hint">Upcoming ‚Ä¢ Past</span></a>
      <a href="/rankings/"><span>Rankings</span><span class="hint">Results & profiles</span></a>
      <a href="/timer/"><span>Timer</span><span class="hint">Practice</span></a>
      <a href="https://thecubeology.com" target="_blank" rel="noopener"><span>Store</span><span class="hint">thecubeology.com</span></a>
    </nav>
    <div class="drawerFooter">Cubeology Competitions</div>
  </aside>

  <div class="dashWrap">
    <div class="dashShell">

      <aside class="dashSide">
        <div class="dashSideTop">
          <div class="dashAvatar" aria-hidden="true">üë§</div>
          <div>
            <div class="dashName" id="meName">Loading‚Ä¶</div>
            <div class="dashMeta" id="meMeta">Checking login‚Ä¶</div>
          </div>
        </div>

        <nav class="dashNav" id="dashNav">
          <button class="dashNavBtn on" data-tab="overview">Overview</button>
          <button class="dashNavBtn" data-tab="rankings">My Rankings</button>
          <button class="dashNavBtn" data-tab="past">Past Competitions</button>
          <button class="dashNavBtn" data-tab="upcoming">Upcoming Competitions</button>
          <button class="dashNavBtn" data-tab="medals">Medals</button>
        </nav>

        <div class="dashSideActions">
          <a class="btn" id="btnProfile" href="#" target="_blank" rel="noopener">Profile</a>
          <button class="btn" id="btnSignOut" type="button">Sign out</button>
        </div>

        <div class="dashHint">Private dashboard (login required).</div>
      </aside>

      <main class="dashMain">
        <div id="msg" class="dashMsg info" style="display:none;"></div>

        <section class="dashPanel on" id="panel-overview">
          <div class="card dashCard">
            <div class="dashH1Row">
              <h1 class="dashH1">Overview</h1>
            </div>

            <div class="dashStats">
              <div class="dashStat">
                <div class="dashStatK">Events</div>
                <div class="dashStatV" id="statEvents">‚Äî</div>
              </div>
              <div class="dashStat">
                <div class="dashStatK">Competitions</div>
                <div class="dashStatV" id="statComps">‚Äî</div>
              </div>
              <div class="dashStat">
                <div class="dashStatK">Solves</div>
                <div class="dashStatV" id="statSolves">‚Äî</div>
              </div>
              <div class="dashStat">
                <div class="dashStatK">Medals</div>
                <div class="dashStatV" id="statMedals">‚Äî</div>
              </div>
            </div>

            <div class="dashGrid2" style="margin-top:14px;">
              <div class="dashMini">
                <div class="dashMiniT">Player ID</div>
                <div class="dashMiniV" id="mePid">‚Äî</div>
              </div>
              <div class="dashMini">
                <div class="dashMiniT">Email</div>
                <div class="dashMiniV" id="meEmail">‚Äî</div>
              </div>
            </div>

            <div class="dashGrid2" style="margin-top:14px;">
              <div class="dashMini" id="nextCompCard"></div>
              <div class="dashMini" id="lastCompCard"></div>
            </div>
          </div>
        </section>

        <section class="dashPanel" id="panel-rankings">
          <div class="card dashCard">
            <h2 class="dashH2">My Rankings</h2>
            <div id="rkTableWrap" style="margin-top:14px;"></div>
          </div>
        </section>

        <section class="dashPanel" id="panel-past">
          <div class="card dashCard">
            <h2 class="dashH2">Past Competitions</h2>
            <div id="pastWrap" class="dashCards"></div>
          </div>
        </section>

        <section class="dashPanel" id="panel-upcoming">
          <div class="card dashCard">
            <h2 class="dashH2">Upcoming Competitions</h2>
            <div id="upcomingWrap" class="dashCards" style="margin-top:12px;"></div>
          </div>
        </section>

        <section class="dashPanel" id="panel-medals">
          <div class="card dashCard">
            <h2 class="dashH2">Medals</h2>
            <div id="medalsWrap" style="margin-top:12px;"></div>
          </div>
        </section>

      </main>
    </div>
  </div>

  <div class="footer footerLight">
    <div class="container footerInner">
      <div class="muted">¬© Cubeology Competitions</div>
      <div class="footerLinks">
        <a href="/competitions/">Competitions</a>
        <a href="/rankings/">Rankings</a>
        <a href="/timer/">Timer</a>
        <a href="https://thecubeology.com" target="_blank" rel="noopener">Store</a>
      </div>
    </div>
  </div>
</body>
</html>
